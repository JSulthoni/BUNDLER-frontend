import{r as p,a as h,j as s}from"./index-67531db2.js";import{a as x,C as m}from"./CardPlaceholder-5dc357eb.js";const $=({search:r,maxPrice:n,sort:a})=>{const t=["hoodie","shirt","trending","featured"],c=Math.floor(Math.random()*t.length),[e,l]=p.useState(r||null),[i,u]=p.useState(t[c]);p.useEffect(()=>(u(t[c]),l(r),()=>{l(null)}),[r]);const{data:d}=h(`/products?search=${i}&sort=${a}&price=${n}`);return s.jsx(s.Fragment,{children:e&&d&&s.jsxs("div",{className:"fallback",children:[s.jsxs("h2",{children:["Sorry, we could not find any '",e,"' products"]}),s.jsxs("p",{children:["Consider our ",i," selections."]}),s.jsx("div",{className:"list",children:d.map(o=>s.jsx(x,{item:o},o._id))})]})})},f=p.memo($);const F=({category:r,maxPrice:n,sort:a,search:t,subCats:c})=>{let e;r&&c?e=`/products?category=${r}&subcategory=${c}&sort=${a}&price=${n}`:t?e=`/products?search=${t}&sort=${a}&price=${n}`:e="/products";const{data:l,loading:i,error:u}=h(e),d=!!l.length;if(u)throw new Error("Something went wrong. We are sorry for the inconvenience");return s.jsx(s.Fragment,{children:i?s.jsx("div",{className:"list",children:[...Array(10)].map((o,j)=>s.jsx(m,{},j))}):d?s.jsx("div",{className:"list",children:l.map(o=>s.jsx(x,{item:o},o._id))}):s.jsx(f,{search:t,maxPrice:n,sort:a})})};export{F as L};
