import{a as c,b as j,j as s,u as f}from"./index-f80b6f06.js";import{a as m,C as h}from"./ErrorElement-7e4f017c.js";const g=({search:a,maxPrice:r,sort:n})=>{const t=["hoodie","shirt","trending","featured"],o=Math.floor(Math.random()*t.length),[i,e]=c.useState(a||null),[l,u]=c.useState(t[o]);c.useEffect(()=>(u(t[o]),e(a),()=>{e(null)}),[a]);const{data:d}=j(`/products?search=${l}&sort=${n}&price=${r}`);return s.jsx(s.Fragment,{children:i&&d&&s.jsxs("div",{className:"fallback",children:[s.jsxs("h2",{children:["Sorry, we could not find any '",i,"' products"]}),s.jsxs("p",{children:["Consider our ",l," selections."]}),s.jsx("div",{className:"list",children:d.map(p=>s.jsx(m,{item:p},p._id))})]})})},y=c.memo(g);const F=({category:a,maxPrice:r,sort:n,search:t,subCats:o})=>{const i=f();let e;a&&o?e=`/products?category=${a}&subcategory=${o}&sort=${n}&price=${r}`:t?e=`/products?search=${t}&sort=${n}&price=${r}`:e="/products";const{data:l,loading:u,error:d}=j(e),p=!!l.length;return d&&i("*"),s.jsx(s.Fragment,{children:u?s.jsx("div",{className:"list",children:[...Array(10)].map((x,$)=>s.jsx(h,{},$))}):p?s.jsx("div",{className:"list",children:s.jsx(c.Suspense,{fallback:s.jsx(h,{}),children:l.map(x=>s.jsx(m,{item:x},x._id))})}):s.jsx(y,{search:t,maxPrice:r,sort:n})})};export{F as L};
